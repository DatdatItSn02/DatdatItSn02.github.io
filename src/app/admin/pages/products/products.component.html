<div class="wrapper">
    <div class="row text-center" *ngIf="!products.length">
        <h1>Chưa có sản phẩm nào!</h1>
    </div>
    <div class="container mt-5 justify-content-between">
    <h1>Danh sách sản phẩm</h1>
    <button class="btn btn-success btn-lg" data-bs-toggle="modal" data-bs-target="#myAddProductModal">Thêm sản phẩm</button>
    </div>
    <div class="row mt-3" *ngIf="products.length">
    <table class="cart-table table table-striped">
    <thead class="table-dark">
    <tr>
        <td style="min-width: 70px; cursor: pointer;" (click)="orderByChange('id')">Mã</td>
        <td>Hình ảnh</td>
        <td style="min-width: 70px; cursor: pointer;" (click)="orderByChange('name')">Tên</td>
        <td style="min-width: 70px; cursor: pointer;" (click)="orderByChange('category')">Thể loại</td>
        <td style="min-width: 70px; cursor: pointer;" (click)="orderByChange('description')">Mô tả</td>
        <td style="min-width: 70px; cursor: pointer;" (click)="orderByChange('price')">Đơn Giá</td>
        <td></td>
        <td></td>
    </tr>
    </thead>
    <tbody class="cart-table__body">
    <tr *ngFor="let item of products | orderBy: orderByType : orderByReverse ; let i = index ">
        <td>{{item.id}}</td>
        <td><img [src]="'assets/img/products/'+ item.image" alt="" width="50px"></td>
        <td>{{item.name}}</td>
        <td>{{item.category}}</td>
        <td>{{item.description}}</td>
        <td>{{item.price | number}} <sup>₫</sup></td>
        <td><button (click)="itemUpdate(item,i)" data-bs-toggle="modal" data-bs-target="#myUpdateProductModal" class="btn btn-warning btn-lg">Sửa</button></td>
        <td><button (click)="itemDelete(i)" class="btn btn-danger btn-lg">Xóa</button></td>
    </tr>
    </tbody>
    </table>
    </div>
    
    <!-- The AddProduct Modal -->
<div class="modal fade" id="myAddProductModal">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
  
        <!-- Modal Header -->
        <div class="modal-header text-center">
          <h2 class="modal-title w-100">Thêm sản phẩm</h2>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
  
        <!-- Modal body -->
        <div class="modal-body">
            <form #frmAddProduct="ngForm" (submit)="onSubmit(frmAddProduct)" class="mx-1 mx-md-4">

                <div class="d-flex flex-row align-items-center mb-4">
                    <div class="form-outline flex-fill mb-0">
                        <label class="form-label" for="name">Name</label>
                      <input required name="name" type="text" [(ngModel)]="product.name" id="name" class="form-control" />
                    </div>
                  </div>
                
                <div class="d-flex flex-row align-items-center mb-4">
                    <div class="form-outline flex-fill mb-0">
                        <label class="form-label" for="category">Category</label>
                      <input required name="category" type="text"  [(ngModel)]="product.category" id="category" class="form-control" />
                    </div>
                </div>

                <div class="d-flex flex-row align-items-center mb-4">
                  <div class="form-outline flex-fill mb-0">
                      <label class="form-label" for="description">Description</label>
                    <input required name="description" type="text" id="description"  [(ngModel)]="product.description" class="form-control" />
                  </div>
                </div>

                <div class="d-flex flex-row align-items-center mb-4">
                  <div class="form-outline flex-fill mb-0">
                      <label class="form-label" for="price">Price</label>
                    <input required name="price" type="number" id="price"  [(ngModel)]="product.price" class="form-control" />
                  </div>
                </div>

                <div class="d-flex flex-row align-items-center mb-4">
                    <div class="form-outline flex-fill mb-0">
                        <label class="form-label" for="image">Image Name</label>
                      <input required name="image" type="text" id="image"  [(ngModel)]="product.image" class="form-control" />
                    </div>
                </div>
                <div class="form-button">
                    <button class="btn btn-success mt-3" data-bs-dismiss="modal" type="submit"><b>Thêm sản phẩm</b></button>
                </div>
              </form>
        </div>
  
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
        </div>
  
      </div>
    </div>
</div>
<!-- The UpdateProduct Modal -->
<div class="modal fade" id="myUpdateProductModal">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
  
        <!-- Modal Header -->
        <div class="modal-header text-center">
          <h2 class="modal-title w-100">Sửa sản phẩm</h2>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
  
        <!-- Modal body -->
        <div class="modal-body">
            <form #frmAddProduct="ngForm" (submit)="itemUpdateSubmit(frmAddProduct)" class="mx-1 mx-md-4">

                <div class="d-flex flex-row align-items-center mb-4">
                    <div class="form-outline flex-fill mb-0">
                        <label class="form-label" for="name">Name</label>
                      <input required name="name" type="text" [(ngModel)]="product.name" id="name" class="form-control" />
                    </div>
                  </div>
                
                <div class="d-flex flex-row align-items-center mb-4">
                    <div class="form-outline flex-fill mb-0">
                        <label class="form-label" for="category">Category</label>
                      <input required name="category" type="text"  [(ngModel)]="product.category" id="category" class="form-control" />
                    </div>
                </div>

                <div class="d-flex flex-row align-items-center mb-4">
                  <div class="form-outline flex-fill mb-0">
                      <label class="form-label" for="description">Description</label>
                    <input required name="description" type="text" id="description"  [(ngModel)]="product.description" class="form-control" />
                  </div>
                </div>

                <div class="d-flex flex-row align-items-center mb-4">
                  <div class="form-outline flex-fill mb-0">
                      <label class="form-label" for="price">Price</label>
                    <input required name="price" type="number" id="price"  [(ngModel)]="product.price" class="form-control" />
                  </div>
                </div>

                <div class="d-flex flex-row align-items-center mb-4">
                    <div class="form-outline flex-fill mb-0">
                        <label class="form-label" for="image">Image Name</label>
                      <input required name="image" type="text" id="image"  [(ngModel)]="product.image" class="form-control" />
                    </div>
                </div>
                <div class="form-button">
                    <button class="btn btn-warning mt-3" data-bs-dismiss="modal" type="submit"><b>Sửa sản phẩm</b></button>
                </div>
              </form>
        </div>
  
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
        </div>
  
      </div>
    </div>
</div>

</div>